import{s as L,v as x,x as P,y as D,u as B,z as H,A as R,j as W,B as I,C as z,D as K}from"./index-j278QrV_.js";function $(e){return H()?(R(e),!0):!1}function q(e){let n=!1,t;const o=L(!0);return(...i)=>(n||(t=o.run(()=>e(...i)),n=!0),t)}function N(e){return typeof e=="function"?e():B(e)}const Q=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const U=Object.prototype.toString,X=e=>U.call(e)==="[object Object]",Y=()=>{};function Z(e,n){function t(...o){return new Promise((i,u)=>{Promise.resolve(e(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(i).catch(u)})}return t}const J=e=>e();function k(e=J){const n=W(!0);function t(){n.value=!1}function o(){n.value=!0}const i=(...u)=>{n.value&&e(...u)};return{isActive:I(n),pause:t,resume:o,eventFilter:i}}function ee(e,n,t={}){const{eventFilter:o=J,...i}=t;return z(e,Z(o,n),i)}function te(e,n,t={}){const{eventFilter:o,...i}=t,{eventFilter:u,pause:w,resume:S,isActive:m}=k(o);return{stop:ee(e,n,{...i,eventFilter:u}),pause:w,resume:S,isActive:m}}function ne(e,n=!0){x()?P(e):n?e():D(e)}function re(e){var n;const t=N(e);return(n=t==null?void 0:t.$el)!=null?n:t}const F=Q?window:void 0;function j(...e){let n,t,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,o,i]=e,n=F):[n,t,o,i]=e,!n)return Y;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const u=[],w=()=>{u.forEach(l=>l()),u.length=0},S=(l,a,g,c)=>(l.addEventListener(a,g,c),()=>l.removeEventListener(a,g,c)),m=z(()=>[re(n),N(i)],([l,a])=>{if(w(),!l)return;const g=X(a)?{...a}:a;u.push(...t.flatMap(c=>o.map(h=>S(l,c,h,g))))},{immediate:!0,flush:"post"}),f=()=>{m(),w()};return $(f),f}const A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O="__vueuse_ssr_handlers__",oe=ie();function ie(){return O in A||(A[O]=A[O]||{}),A[O]}function se(e,n){return oe[e]||n}function ae(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ue={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},C="vueuse-storage";function le(e,n,t,o={}){var i;const{flush:u="pre",deep:w=!0,listenToStorageChanges:S=!0,writeDefaults:m=!0,mergeDefaults:f=!1,shallow:l,window:a=F,eventFilter:g,onError:c=r=>{console.error(r)},initOnMounted:h}=o,p=(l?K:W)(typeof n=="function"?n():n);if(!t)try{t=se("getDefaultStorage",()=>{var r;return(r=F)==null?void 0:r.localStorage})()}catch(r){c(r)}if(!t)return p;const d=N(n),E=ae(d),b=(i=o.serializer)!=null?i:ue[E],{pause:M,resume:_}=te(p,()=>T(p.value),{flush:u,deep:w,eventFilter:g});return a&&S&&ne(()=>{j(a,"storage",v),j(a,C,G),h&&v()}),h||v(),p;function T(r){try{if(r==null)t.removeItem(e);else{const s=b.write(r),y=t.getItem(e);y!==s&&(t.setItem(e,s),a&&a.dispatchEvent(new CustomEvent(C,{detail:{key:e,oldValue:y,newValue:s,storageArea:t}})))}}catch(s){c(s)}}function V(r){const s=r?r.newValue:t.getItem(e);if(s==null)return m&&d!==null&&t.setItem(e,b.write(d)),d;if(!r&&f){const y=b.read(s);return typeof f=="function"?f(y,d):E==="object"&&!Array.isArray(y)?{...d,...y}:y}else return typeof s!="string"?s:b.read(s)}function G(r){v(r.detail)}function v(r){if(!(r&&r.storageArea!==t)){if(r&&r.key==null){p.value=d;return}if(!(r&&r.key!==e)){M();try{(r==null?void 0:r.newValue)!==b.write(p.value)&&(p.value=V(r))}catch(s){c(s)}finally{r?D(_):_()}}}}}function ce(e,n,t={}){const{window:o=F}=t;return le(e,n,o==null?void 0:o.sessionStorage,t)}const fe={currentLevel:{name:"",setupFileName:""}},de=q(()=>ce("Babaisyou-storage",fe));export{ne as t,de as u};
