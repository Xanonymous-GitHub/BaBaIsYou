!function(){function e(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function n(e,n,r,t,a,u,o){try{var c=e[u](o),i=c.value}catch(s){return void r(s)}c.done?n(i):Promise.resolve(i).then(t,a)}function r(e){return function(){var r=this,t=arguments;return new Promise((function(a,u){var o=e.apply(r,t);function c(e){n(o,a,u,c,i,"next",e)}function i(e){n(o,a,u,c,i,"throw",e)}c(undefined)}))}}var t=document.createElement("style");t.innerHTML=".abs-center{top:50%;left:50%;transform:translate(-50%,-50%)}.game-layer[data-v-1ee867c8]{max-height:min-content;min-height:max-content;height:min-content}\n",document.head.appendChild(t),System.register(["./index-legacy.92ea3e05.js","./core-legacy.e2e55cc4.js","./index-legacy.1237acb7.js"],(function(n,t){"use strict";var a,u,o,c,i,s,l,f,p,v,m,d,g,R,h,x,y,b;return{setters:[function(e){a=e._,u=e.u,o=e.a},function(e){c=e.f,i=e.g,s=e.C,l=e.D,f=e.o,p=e.l,v=e.c,m=e.u,d=e.E,g=e.a,R=e.F,h=e.G,x=e.H,y=e.I},function(e){b=e.u}],execute:function(){var w,E,k;n("M",E),(k=E||n("M",E={})).GENERAL="GENERAL",k.RESTART="RESTART",k.WIN="WIN",k.YOU_GONE="YOU_GONE";var N={id:"game-layer","class":"transform-gpu flex h-screen justify-center relative bg-gray-900"},T=c({setup:function(e){var n,a=b(),c=u(),w=i({}),k=i(!1),T=i(!1),G=i(0),L=i(0),A=i(E.GENERAL),O=s((function(){return o((function(){return t["import"]("./Menu-legacy.fa430f71.js")}),void 0)})),_=s((function(){return o((function(){return t["import"]("./NoYouAlertBar-legacy.9952a5ad.js")}),void 0)})),j=document.createElement("audio"),I=function(){n.pause()},M=function(e){null==e||e.preventDefault(),null==e||e.stopImmediatePropagation(),null==e||e.stopPropagation(),G.value++,k.value=!k.value,k.value?I():(n.resume(),A.value=E.GENERAL)},P=function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),A.value=E.RESTART,G.value++,I(),k.value=!0},S=function(){var e=r(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=a.value.currentLevel.setupFileName){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,n.startLevel(e.trim());case 5:return T.value=!1,x.bind("esc",M),x.bind("r",P),t=a.value.currentLevel.backgroundMusic,j.src="/music/"+t,j.loop=!0,r.next=11,j.play();case 11:case"end":return r.stop()}var t}),t)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=r(regeneratorRuntime.mark((function n(e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next=n.t0===y.WIN?3:n.t0===y.RESTART?10:13;break;case 3:return A.value=E.WIN,G.value++,x.unbind(["esc","r"]),k.value=!0,n.next=9,j.pause();case 9:case 12:return n.abrupt("break",13);case 10:return n.next=12,S();case 13:case"end":return n.stop()}}),n)})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=r(regeneratorRuntime.mark((function n(e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:j.pause(),e||L.value++,T.value=!e;case 3:case"end":return n.stop()}}),n)})));return function(n){return e.apply(this,arguments)}}(),Y=function(){M(),S()},C=function(){var e=r(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.pause(),e.next=3,c.replace({name:"Level"});case 3:case"end":return e.stop()}}),n)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=r(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.pause(),e.next=3,c.replace({name:"Home"});case 3:case"end":return e.stop()}}),n)})));return function(){return e.apply(this,arguments)}}();return l(r(regeneratorRuntime.mark((function B(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),t)})))();case 2:return(n=e.sent).setGameOverOutsideHandler(H),n.setYouGoneOutsideHandler(W),w.value.appendChild(n.gameView),e.next=6,S();case 6:case"end":return e.stop()}}),B)})))),function(e,n){return f(),p(R,null,[k.value?(f(),v(m(O),{key:"menu"+G.value,mode:A.value,onRestart:Y,onResume:M,onToMenu:C,onToHome:D},null,8,["mode"])):d("",!0),T.value?(f(),v(m(_),{key:"alertBar"+L.value})):d("",!0),g("div",N,[g("div",{ref:function(e,n){n.gameLayer=e,w.value=e},"class":"game-layer self-center"},null,512)])],64)}}}),G=a(T,[["__scopeId","data-v-1ee867c8"]]),L=Object.freeze((e(w={__proto__:null},Symbol.toStringTag,"Module"),e(w,"default",G),w));n("G",L)}}}))}();
